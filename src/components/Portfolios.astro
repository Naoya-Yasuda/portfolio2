---
interface Portfolio {
  image?: string;
  isPdf?: boolean;
  title: string;
  text: string;
  lang?: string;
  library?: string;
  skill?: string;
  cloud?: string;
  aiModel?: string;
  specialNote?: string;
  links?: { label: string; url: string; isGithub?: boolean }[];
  note?: string;
  isActive?: boolean;
}

const portfolios: Portfolio[] = [
  {
    image: "/portfolio2/img/portfolios/llms-txt.png",
    title: "[官公庁系]<br>LLM向けコンテンツ整備PJ",
    text: "llms.txt・mdファイル格納。QA作成、効果検証、robots.txt対応も予定。",
    skill: "llms.txt, Markdown",
    isActive: true
  },
  {
    image: "/portfolio2/img/portfolios/secure-ai-platform.png",
    title: "[GENIAC-PRIZE]<br>AIエージェント連携プラットフォーム",
    text: "AIエージェント同士をセキュアにマッチング・連携させる国産OSSプラットフォームの開発。",
    skill: "エージェントストア, 仲介エージェント, Google ADK, aisev, wandb",
    links: [
      { label: "Zenn", url: "https://zenn.dev/family_chicken/articles/baad16ee633be5" },
      { label: "GitHub", url: "https://github.com/TaichiHiromatsu/secure-ai-agent-matching-platform", isGithub: true },
      { label: "Demo", url: "https://drive.google.com/file/d/1QDg3jHBQjzJCHYY3ZqjBgiJcgYIPjMtB/view?usp=drive_link" }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/browser-agent-detector.png",
    title: "[GENIAC-PRIZE]<br>AIブラウザ検知",
    text: "AIブラウザの検知システムの研究開発。クラスタリングによるプロンプトインジェクション検知、PCA、セマンティック特徴量を活用した分析。",
    skill: "Atlas, Comet",
    links: [
      { label: "Zenn", url: "https://zenn.dev/family_chicken/articles/deb1fae6e2e97b" },
      { label: "GitHub", url: "https://github.com/sin6160/browser-agent-detector", isGithub: true },
      { label: "Demo", url: "https://drive.google.com/file/d/15FB7XLVHE5THo9ARrf5RK6nHkQOQz75o/view?usp=drive_link" }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/another-star-corporate.png",
    title: "Another Star合同会社<br>コーポレートサイト",
    text: "起業した合同会社のコーポレートサイト。Figma MakeでデザインしThree.jsで3D表現を実装。",
    lang: "TypeScript(React)",
    library: "Three.js",
    skill: "Figma Make, Vercel",
    links: [
      { label: "Website", url: "https://www.another-star.jp/" }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/news-screening.png",
    title: "[官公庁系]<br>国際ニュース情報収集自動化PJ",
    text: "国際ニュースの自動収集・整理システムの構築。",
    skill: "n8n, Spreadsheet, browser-use"
  },
  {
    image: "/portfolio2/img/portfolios/bid-screening.png",
    title: "[官公庁系]<br>入札情報スクリーニングPJ",
    text: "入札情報の自動収集・スクリーニングシステムの構築。",
    lang: "Python",
    cloud: "AWS(Step Functions, S3, Bedrock)",
    isActive: true
  },
  {
    image: "/portfolio2/img/portfolios/generative-video.png",
    title: "[官公庁系]<br>広報動画生成PJ",
    text: "様々な動画生成AIでPoC。キャラクターと職員の動画化を検証。",
    skill: "動画生成AI: Kling, Veo3, nano banana, Sora2"
  },
  {
    image: "/portfolio2/img/portfolios/Perplexity_bias.png",
    title: "卒業研究<br>Perplexityのバイアス定量評価",
    text: "生成AIの回答に含まれる企業バイアスを定量的に評価する研究。Streamlitでデモアプリを公開。",
    lang: "Python",
    library: "Streamlit, Perplexity API",
    links: [
      { label: "Zenn", url: "https://zenn.dev/family_chicken/articles/57300afbbc08fd" },
      { label: "Demo", url: "https://corporate-bias-study.streamlit.app/" },
      { label: "GitHub", url: "https://github.com/Naoya-Yasuda/corporate_bias_study", isGithub: true }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/hera-family-simulator.png",
    title: "Hera Family Simulator<br>(Geeks AI ハッカソン)",
    text: "家族シミュレーターアプリ。アイディア、AIエージェント実装を担当。",
    skill: "Google ADK",
    cloud: "Google Cloud Run",
    links: [
      { label: "Demo", url: "https://hera-frontend-prod-j5qfl2khna-an.a.run.app/" },
      { label: "GitHub", url: "https://github.com/Yuta-Hachino/hera", isGithub: true }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/Word-Excel.png",
    title: "[官公庁系]<br>広聴メモフォーマット・意見集計PJ",
    text: "広聴業務の効率化。メモフォーマットの自動生成と意見集計の自動化。",
    lang: "VBA (Word, Excel)"
  },
  {
    image: "/portfolio2/img/portfolios/ev-aws-migration.png",
    title: "ハイブリッド車データ<br>AWS環境移行",
    text: "カスタムAWS環境でHV車両データを管理・活用する基盤への移行要件、移行計画策定、移行実施",
    cloud: "AWS(CloudFormations, Hadoop, Spark)"
  },
  {
    image: "/portfolio2/img/portfolios/gov-it-support.png",
    title: "[官公庁系]<br>IT全般の支援・調査",
    text: "<strong>AWS調達・初期設定</strong>、クラウド調達、各課室からのヒアリング、AI関連のQA、勉強会登壇、CMSによるHPの更新",
    lang: "Python",
    cloud: "AWS"
  },
  {
    image: "/portfolio2/img/portfolios/graph-python312-security.png",
    title: "HVデータ可視化<br>Python3.12セキュリティ対応",
    text: "グラフ作成APIの対応案調査・評価、製造、テスト",
    lang: "Python",
    library: "matplotlib, selenium, PhantomJS",
    cloud: "AWS(Lambda, S3, ECR)"
  },
  {
    image: "/portfolio2/img/portfolios/manabi-dxq2023-paid.png",
    title: "東北グループ企業<br>DX推進支援",
    text: "GA4拡充・データ基盤構築・Snowflake導入支援・ダッシュボード作成",
    cloud: "AWS, Google Analytics, Snowflake, Google Tag Manager",
    skill: "カスタムイベント設計",
    isActive: true,
    links: [
      { label: "Zenn", url: "https://zenn.dev/family_chicken/articles/5fbde24f8dcc81" },
      { label: "Website", url: "https://dxq.manabi-dx.ipa.go.jp/" }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/EV.jpg",
    title: "自動車業界向け<br>営業支援アプリ開発",
    text: "DynamoDBのテーブル設計、ヒアリング資料に関するAPIの設計書作成、製造、UT・IT",
    lang: "Python",
    cloud: "AWS(Lambda, DynamoDB, Cognito, API Gateway, SQS, S3)"
  },
  {
    image: "/portfolio2/img/portfolios/MDXQ2023_slide.pdf",
    isPdf: true,
    title: "マナビDX Quest 2023<br>スマホアプリデータ分析",
    text: "東北のグループ企業との協働。ヒアリングからの現状分析、EDA、打ち手設定、PoCを実施。提案資料を作成し現在は有償契約",
    lang: "Python, Jupyter Notebook",
    aiModel: "LightGBM, LSTM, K-Means",
    links: [
      { label: "Website", url: "https://r-club.jp/index.php/" },
      { label: "GitHub", url: "https://github.com/Naoya-Yasuda/MANABI_DX_QUEST_2023_PrePoC", isGithub: true }
    ],
    note: "※機密保護の観点から資料はマスク済。Git上にはデータ、notebookの出力を管理しないように設定済。"
  },
  {
    image: "/portfolio2/img/portfolios/MDXQ2023.png",
    title: "マナビDX Quest 2023<br>PBL05データ分析",
    text: "データ分析30位 Gold修了。EDA、PoC、実行計画策定まで実施。",
    lang: "Python, Jupyter Notebook",
    aiModel: "LightGBM",
    links: [{ label: "Website", url: "https://dxq.manabi-dx.ipa.go.jp/" }]
  },
  {
    image: "/portfolio2/img/portfolios/modoken.jpg",
    title: "Open Hack U 2023 ONLINE<br>盲導犬スマホアプリ",
    text: "サイバー大学の3名で参加<br>リーダーとして主に開発・事務局への解説を担当<br>最優秀賞と参加者投票による賞をW受賞",
    lang: "Flutter Dart",
    aiModel: "YOLO_v2",
    links: [
      { label: "Website", url: "https://hacku.yahoo.co.jp/hacku2023_online/index.html" },
      { label: "Youtube", url: "https://www.youtube.com/live/PAsUW8Uk5JM?si=aWKECx11UTioCvgk&t=3196" },
      { label: "GitHub", url: "https://github.com/Naoya-Yasuda/HackU2023_project", isGithub: true }
    ]
  },
  {
    image: "/portfolio2/img/portfolios/portfolio_panel.png",
    title: "ポートフォリオサイト",
    text: "当サイト、Astroを用いて作成。<br>レスポンシブデザイン対応。",
    lang: "HTML, CSS, JS(Astro)",
    skill: "Deployment : GitHub Pages",
    links: [{ label: "GitHub", url: "https://github.com/Naoya-Yasuda/portfolio2", isGithub: true }]
  },
  {
    image: "/portfolio2/img/portfolios/sodan.jpg",
    title: "相談システム",
    text: "開発リーダーとして顧客折衝、AIによるリスクキーワード抽出、LINE周りのバックエンド開発、BtoB向けメイン画面、メール相談機能を開発",
    lang: "Python, HTML, CSS, JS(Vue.js) PHP",
    skill: "AI : Mecab, TF-IDF",
    cloud: "AWS(EC2, S3)",
    links: [{ label: "Website", url: "https://yorisoi-chat.jp/" }]
  },
  {
    image: "/portfolio2/img/portfolios/IY.jpg",
    title: "大手小売業向け<br>勤怠管理・作業割当システム",
    text: "accenture案件 ph1ではフロントエンドテックリードとして全画面のデザイン統一や認証認可を担当。ph2ではメイン機能である作業割当のバックエンドを担当。",
    lang: "HTML, SCSS, TS(Angular) Java(Spring Boot, Spring Batch)"
  },
  {
    image: "/portfolio2/img/portfolios/mingin.jpeg",
    title: "ネット銀行<br>スマホアプリ開発",
    text: "accenture案件 マイクロサービス・デビットカードチームにてバッチ開発を担当。その後パフォーマンステストチームにて数百万ユーザ想定のデータ作成、テストを実施。",
    lang: "Java(Spring Batch)",
    cloud: "GCP(DataFlow, Spanner), Azure, Datadog",
    specialNote: "大規模アジャイル、マイクロサービス、gRPC、マルチスレッド"
  },
  {
    image: "/portfolio2/img/portfolios/accenture.jpg",
    title: "accenture<br>社内トレーニング(ACTS)",
    text: "accentureとの契約第一号となるべく他社との混合チームで参加。保険会社のシステム刷新のPBLについて独自定義されたACTSという手法でスクラム開発し評価される。2位通過で無事案件獲得に繋がった。",
    lang: "TS(Angular), Java(Spring Boot)",
    cloud: "GCP",
    links: [{ label: "Website", url: "https://www.accenture.com/jp-ja/services/software-engineering/accenture-connected-technology-solution" }]
  },
  {
    image: "/portfolio2/img/portfolios/jtb.jpg",
    title: "大手旅行会社<br>公式サイト刷新",
    text: "保守フェーズにて主に画面側を担当。刷新フェーズの結合テストも担当。",
    lang: "HTML, CSS, JS, Java(Spring)"
  },
  {
    image: "/portfolio2/img/portfolios/agile.jpg",
    title: "NSSOLアジャイル人材育成案件",
    text: "技研の余った予算でパートナー企業の人材を育てて一緒に働く人材にしようという実験的試み。社内ツールを作成しかなり技術的に成長した。",
    lang: "HTML, SCSS, JS(Vue.js), Java(Spring Boot)",
    links: [{ label: "Website", url: "https://www.nssol.nipponsteel.com/ss/bxdc/" }]
  },
  {
    image: "/portfolio2/img/portfolios/test.png",
    title: "金融機関向け<br>窓口端末テスト案件",
    text: "優秀なテストチーム内で半年間テストのイロハを教わる。結合テスト仕様書作成・実施、テスト観点作成、シナリオテスト実施",
    skill: "Tools : Excel"
  },
  {
    image: "/portfolio2/img/portfolios/monitor.jpg",
    title: "外資系放送局<br>保守運用",
    text: "サーバーと放送の監視・障害対応。協力会社のリーダーとしてメンバー教育、シフト管理を実施。"
  }
];
---

<section id="portfolios" class="portfolios-wrapper">
  <h2>Portfolios</h2>

  <ul class="portfolios">
    {portfolios.map((p, index) => (
      <li class={`panel ${p.isActive ? 'panel-active' : ''}`} style={`animation-delay: ${index * 0.1}s`}>
        {p.isActive && <div class="active-ribbon">Active</div>}
        {p.image ? (
          p.isPdf ? (
            <object class="panel-img" data={p.image} type="application/pdf"></object>
          ) : (
            <img class="panel-img" src={p.image} alt={p.title.replace(/<br>/g, ' ')}>
          )
        ) : (
          <div class="panel-img panel-img-placeholder"></div>
        )}
        <div class="panel-content">
          <p class="panel-title" set:html={p.title}></p>
          <p class="panel-text" set:html={p.text}></p>
          {p.lang && <p class="panel-lang">Languages : {p.lang}</p>}
          {p.library && <p class="panel-lang">Library : {p.library}</p>}
          {p.skill && <p class="panel-skill">{p.skill}</p>}
          {p.aiModel && <p class="panel-skill">AI model : {p.aiModel}</p>}
          {p.cloud && <p class="panel-skill">Cloud : {p.cloud}</p>}
          {p.specialNote && <p class="panel-lang">Special Note : {p.specialNote}</p>}
          <br>
          <div class="panel-buttons">
            {p.links?.map((link) => (
              <a href={link.url} class={`panel-link ${link.isGithub ? 'github-link' : ''}`}>{link.label}</a>
            ))}
            {p.note && <p class="panel-text-mini">{p.note}</p>}
          </div>
        </div>
      </li>
    ))}
  </ul>
</section>

<script>
  // Intersection Observer でスクロール時にアニメーション発火
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-in');
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.panel').forEach(panel => {
    observer.observe(panel);
  });
</script>

<style>
  .portfolios-wrapper {
    text-align: center;
  }

  .portfolios {
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: center;
    list-style-type: none;
    padding: 0 5%;
    text-align: center;
  }

  .panel-lang,
  .panel-skill {
    font-weight: 500;
  }

  .panel {
    display: inline-block;
    margin: 30px 45px;
    width: 350px;
    background: #fff;
    border-radius: 5px;
    box-shadow: 0 2px 5px #ccc;
    /* アニメーション初期状態 */
    opacity: 0;
    transform: translateY(50px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .panel-active {
    border: 2px solid #22c55e;
  }

  .active-ribbon {
    position: absolute;
    top: 20px;
    right: -35px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    color: white;
    padding: 6px 40px;
    font-size: 12px;
    font-weight: 600;
    transform: rotate(45deg);
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    letter-spacing: 1px;
  }

  .panel.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  .panel:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    transform: translateY(-5px);
  }

  .panel.animate-in:hover {
    transform: translateY(-5px);
  }

  .panel-img {
    border-radius: 5px 5px 0 0;
    width: 100%;
    height: 240px;
    border-bottom: solid 1px #ccc;
    object-fit: cover;
  }

  .panel-img-placeholder {
    background: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 50%, #e0e0e0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .panel-content {
    display: flex;
    flex-direction: column;
    height: calc(100% - 284px);
    padding: 20px;
  }

  .panel-title {
    font-size: 20px;
    font-weight: 100;
    margin-bottom: 20px;
    text-align: center;
    color: #333;
  }

  .panel-text {
    color: #777;
    font-size: 14px;
    line-height: 1.5;
  }

  .panel-text-mini {
    font-size: 10px;
    margin-bottom: 0;
    margin-top: 12px;
  }

  .panel-link {
    border: 1px solid #00aaff;
    text-decoration: none;
    color: #00aaff;
    margin: 0 10px;
    padding: 5px 10px;
    border-radius: 5px;
  }

  .panel-link:hover {
    font-weight: 700;
  }

  .github-link {
    border-color: #171515;
    color: #171515;
  }

  .panel-buttons {
    margin-top: auto;
  }

  @media (max-width: 767px) {
    .panel {
      margin: 30px 0;
      width: 320px;
    }
  }
</style>
